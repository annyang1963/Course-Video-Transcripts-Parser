1
00:00:00,000 --> 00:00:02,340
Let's talk about some other options for

2
00:00:02,340 --> 00:00:06,330
relationships beyond one-to-many, starting with one-to-one.

3
00:00:06,330 --> 00:00:09,630
One-to-one relationships generally come up when

4
00:00:09,630 --> 00:00:13,650
two dimension tables have related qualitative data.

5
00:00:13,650 --> 00:00:18,180
They have some of the same benefits of a one-to-many relationship.

6
00:00:18,180 --> 00:00:21,510
They're straightforward and predictable and easy to

7
00:00:21,510 --> 00:00:25,749
understand for end-users as well as within the data model itself.

8
00:00:25,749 --> 00:00:28,385
But the question you always have to ask is,

9
00:00:28,385 --> 00:00:30,830
do you actually need a one-to-one relationship

10
00:00:30,830 --> 00:00:34,930
or is what you're going for actually a merge table?

11
00:00:34,930 --> 00:00:37,400
In this instance, for example,

12
00:00:37,400 --> 00:00:39,500
we have two separate tables,

13
00:00:39,500 --> 00:00:42,860
first with the first and last name of customers

14
00:00:42,860 --> 00:00:46,555
and the other with zip code and city information.

15
00:00:46,555 --> 00:00:51,995
If we want to see Sam Cooke associated with his address,

16
00:00:51,995 --> 00:00:55,865
we can do that with a one-to-one relationship that's bidirectional,

17
00:00:55,865 --> 00:01:01,100
but the key limitating point is what if you wanted to see

18
00:01:01,100 --> 00:01:07,775
all of your customers by city with their names underneath,

19
00:01:07,775 --> 00:01:11,720
that would be a hierarchy situation that you can't do when

20
00:01:11,720 --> 00:01:15,740
you have a one-to-one relationship as opposed to a merge table.

21
00:01:15,740 --> 00:01:18,045
To me, this is a much better solution,

22
00:01:18,045 --> 00:01:23,060
merging them together gives you more flexibility to ensure that you can create

23
00:01:23,060 --> 00:01:29,045
those hierarchies if you need to and you don't lose anything by creating this merging.

24
00:01:29,045 --> 00:01:31,490
I'm sure there must be rare instances where

25
00:01:31,490 --> 00:01:34,820
a one-to-one relationship makes the most practical sense,

26
00:01:34,820 --> 00:01:37,580
but I've yet to run into them personally.

27
00:01:37,580 --> 00:01:39,830
Invariably, I avoid creating

28
00:01:39,830 --> 00:01:44,270
a one-to-one relationship and merge the two tables together in Power Query instead.

29
00:01:44,270 --> 00:01:46,955
Many-to-many relationships.

30
00:01:46,955 --> 00:01:51,450
Just don't. Let's move on, I'm kidding.

31
00:01:51,450 --> 00:01:53,040
Let's talk about it.

32
00:01:53,040 --> 00:01:55,790
When you have a many-to-many relationship,

33
00:01:55,790 --> 00:01:59,390
you might have a single product like a smartphone.

34
00:01:59,390 --> 00:02:04,625
You might group this under communications devices and personal technology.

35
00:02:04,625 --> 00:02:06,425
Even though it's a single entity,

36
00:02:06,425 --> 00:02:10,145
it belongs to two different groups, two different hierarchies.

37
00:02:10,145 --> 00:02:13,570
This is an example of a true many-to-many.

38
00:02:13,570 --> 00:02:17,480
Let's see what this might look like with some actual data tables.

39
00:02:17,480 --> 00:02:21,230
Here we can see that each of the iPhones in the sales table

40
00:02:21,230 --> 00:02:25,175
is associated with multiple product dimension types,

41
00:02:25,175 --> 00:02:30,525
both a communications product type and a personal technology product type.

42
00:02:30,525 --> 00:02:32,525
The reverse is also true.

43
00:02:32,525 --> 00:02:35,525
Each of the product dimensions associated with the iPhones

44
00:02:35,525 --> 00:02:38,695
is also attributable to multiple sales.

45
00:02:38,695 --> 00:02:42,560
The problem with many-to-many relationships is that they tend to

46
00:02:42,560 --> 00:02:46,385
be confusing for both your end users and the data model itself.

47
00:02:46,385 --> 00:02:51,805
Especially if you aren't 100 percent confident on how you want that data to perform.

48
00:02:51,805 --> 00:02:57,390
Many-to-many relationships, leverage bidirectional filtering.

49
00:02:57,390 --> 00:03:02,405
The logic and flow in both directions as you add additional tables.

50
00:03:02,405 --> 00:03:07,030
This can result in ambiguities that Power BI doesn't know how they handle.

51
00:03:07,030 --> 00:03:09,980
For example, if we're adding

52
00:03:09,980 --> 00:03:12,440
a single additional dimension table

53
00:03:12,440 --> 00:03:15,530
and you try to connect it to both of these fact tables,

54
00:03:15,530 --> 00:03:18,335
you'll find that the bidirectional nature

55
00:03:18,335 --> 00:03:21,205
of the relationship between the two fact tables.

56
00:03:21,205 --> 00:03:25,910
To facilitate that many-to-many relationship means that you can only have one of

57
00:03:25,910 --> 00:03:31,410
the two-dimension relationships active with the other remaining inactive.

58
00:03:32,180 --> 00:03:34,610
The short answer when it comes to

59
00:03:34,610 --> 00:03:39,280
many-to-many relationships is this is another instance of can versus should.

60
00:03:39,280 --> 00:03:41,945
You can use a many-to-many relationship.

61
00:03:41,945 --> 00:03:45,439
But best practice is to avoid them whenever possible.

62
00:03:45,439 --> 00:03:48,380
I personally have never come up with a good instance

63
00:03:48,380 --> 00:03:52,655
where I truly need a many-to-many relationship in my work,

64
00:03:52,655 --> 00:03:56,435
the potential issues include unpredictable results,

65
00:03:56,435 --> 00:03:59,090
either because you don't understand

66
00:03:59,090 --> 00:04:02,299
the data model structure or you understand it perfectly,

67
00:04:02,299 --> 00:04:05,270
but your end users are trying to use it differently from

68
00:04:05,270 --> 00:04:08,945
how you intended those different relationships to work.

69
00:04:08,945 --> 00:04:11,465
As I mentioned, it's very confusing for end-users.

70
00:04:11,465 --> 00:04:13,310
Even if you give them clear guidance,

71
00:04:13,310 --> 00:04:15,050
they are likely to come to

72
00:04:15,050 --> 00:04:19,265
their own conclusions and they might not be the ones that you mean for them too.

73
00:04:19,265 --> 00:04:23,070
There's a potential for performance issues as well.

